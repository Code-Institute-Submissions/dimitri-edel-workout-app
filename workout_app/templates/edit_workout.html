{% extends "base.html" %}
{% block title %}Edit Workout {% endblock title %}

{% block content %}
<h1>Edit Workout</h1>
<form action="{% url 'edit_workout' workout_form.instance.id %}" method="POST">
    {% csrf_token %}
    {{ workout_form }}
    <div class="row">
        {{ workout_form.date }}
    </div>

    {% for workout_exercise in workout_exercise_list %}
    <div class="row">
        <div class="col">
            {{ workout_exercise.exercise.name }}
        </div>
        <div class="col">
            <a href="{% url 'edit_exercise_set' workout_exercise.id %}"><i
                    class="fa-solid fa-pen-to-square"></i>Edit</a>
        </div>
        <div class="col">
            <a href="{% url 'delete_workout_exercise' workout_exercise.id workout_form.instance.id %}"><i
                    class="fa-solid fa-trash-can"></i>Delete</a>
        </div>
    </div>
    {{ workout_exercise_form.id }}
    {% endfor %}
    <div class="row">
        <div class="col">
            {{ workout_exercise_form.exercise }}
        </div>
        <div class="col md-4">
            <a href="{% url 'add_workout_exercise' workout_form.instance.id %}" style="font-size: 2em;">
                <i class="fa-solid fa-circle-plus"></i>
            </a>
        </div>
        <div class="col">
            <!-- Placeholder for consistency of the layout -->
        </div>
    </div>
    <div class="row">
        <div class="col md-2">
            <a href="{% url 'home' %}" class="wo-button">
                Cancel
            </a>
        </div>
    </div>
</form>
<script>
    let last_exercise = document.getElementById(last_exercise_id);
    last_exercise.addEventListener('change', function (event) {
        // alert(event.target.value);
        document.forms[0].submit();
    });
</script>
{% endblock content %}